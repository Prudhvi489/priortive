{"version":3,"file":"Clock-f69d5d8d.js","sources":["../../src/constants/ClockType.ts","../../src/views/Clock/ClockPointer.tsx","../../src/_helpers/time-utils.ts","../../src/views/Clock/Clock.tsx"],"sourcesContent":["enum ClockType {\n  HOURS = 'hours',\n\n  MINUTES = 'minutes',\n\n  SECONDS = 'seconds',\n}\n\nexport type ClockViewType = 'hours' | 'minutes' | 'seconds';\n\nexport default ClockType;\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport ClockType, { ClockViewType } from '../../constants/ClockType';\nimport { withStyles, createStyles, WithStyles, Theme } from '@material-ui/core';\n\nexport interface ClockPointerProps extends WithStyles<typeof styles> {\n  value: number;\n  hasSelected: boolean;\n  isInner: boolean;\n  type: ClockViewType;\n}\n\nexport class ClockPointer extends React.Component<ClockPointerProps> {\n  public static getDerivedStateFromProps = (\n    nextProps: ClockPointerProps,\n    state: ClockPointer['state']\n  ) => {\n    if (nextProps.type !== state.previousType) {\n      return {\n        toAnimateTransform: true,\n        previousType: nextProps.type,\n      };\n    }\n\n    return {\n      toAnimateTransform: false,\n      previousType: nextProps.type,\n    };\n  };\n\n  public state = {\n    toAnimateTransform: false,\n    previousType: undefined,\n  };\n\n  public getAngleStyle = () => {\n    const { value, isInner, type } = this.props;\n\n    const max = type === ClockType.HOURS ? 12 : 60;\n    let angle = (360 / max) * value;\n\n    if (type === ClockType.HOURS && value > 12) {\n      angle -= 360; // round up angle to max 360 degrees\n    }\n\n    return {\n      height: isInner ? '26%' : '40%',\n      transform: `rotateZ(${angle}deg)`,\n    };\n  };\n\n  public render() {\n    const { classes, hasSelected } = this.props;\n\n    return (\n      <div\n        style={this.getAngleStyle()}\n        className={clsx(classes.pointer, {\n          [classes.animateTransform]: this.state.toAnimateTransform,\n        })}\n      >\n        <div\n          className={clsx(classes.thumb, {\n            [classes.noPoint]: hasSelected,\n          })}\n        />\n      </div>\n    );\n  }\n}\n\nexport const styles: (theme: Theme) => any = (theme: Theme) =>\n  createStyles({\n    pointer: {\n      width: 2,\n      backgroundColor: theme.palette.primary.main,\n      position: 'absolute',\n      left: 'calc(50% - 1px)',\n      bottom: '50%',\n      transformOrigin: 'center bottom 0px',\n    },\n    animateTransform: {\n      transition: theme.transitions.create(['transform', 'height']),\n    },\n    thumb: {\n      width: 4,\n      height: 4,\n      backgroundColor: theme.palette.primary.contrastText,\n      borderRadius: '100%',\n      position: 'absolute',\n      top: -21,\n      left: -15,\n      border: `14px solid ${theme.palette.primary.main}`,\n      boxSizing: 'content-box',\n    },\n    noPoint: {\n      backgroundColor: theme.palette.primary.main,\n    },\n  });\n\nexport default withStyles(styles, {\n  name: 'MuiPickersClockPointer',\n})(ClockPointer as React.ComponentType<ClockPointerProps>);\n","import { IUtils } from '@date-io/core/IUtils';\nimport { MaterialUiPickersDate } from '../typings/date';\n\nconst center = {\n  x: 260 / 2,\n  y: 260 / 2,\n};\n\nconst basePoint = {\n  x: center.x,\n  y: 0,\n};\n\nconst cx = basePoint.x - center.x;\nconst cy = basePoint.y - center.y;\n\nconst rad2deg = (rad: number) => rad * 57.29577951308232;\n\nconst getAngleValue = (step: number, offsetX: number, offsetY: number) => {\n  const x = offsetX - center.x;\n  const y = offsetY - center.y;\n\n  const atan = Math.atan2(cx, cy) - Math.atan2(x, y);\n\n  let deg = rad2deg(atan);\n  deg = Math.round(deg / step) * step;\n  deg %= 360;\n\n  const value = Math.floor(deg / step) || 0;\n  const delta = Math.pow(x, 2) + Math.pow(y, 2);\n  const distance = Math.sqrt(delta);\n\n  return { value, distance };\n};\n\nexport const getHours = (offsetX: number, offsetY: number, ampm: boolean) => {\n  let { value, distance } = getAngleValue(30, offsetX, offsetY);\n  value = value || 12;\n\n  if (!ampm) {\n    if (distance < 90) {\n      value += 12;\n      value %= 24;\n    }\n  } else {\n    value %= 12;\n  }\n\n  return value;\n};\n\nexport const getMinutes = (offsetX: number, offsetY: number, step = 1) => {\n  const angleStep = step * 6;\n  let { value } = getAngleValue(angleStep, offsetX, offsetY);\n  value = (value * step) % 60;\n\n  return value;\n};\n\nexport const getMeridiem = (\n  date: MaterialUiPickersDate,\n  utils: IUtils<MaterialUiPickersDate>\n): 'am' | 'pm' => {\n  return utils.getHours(date) >= 12 ? 'pm' : 'am';\n};\n\nexport const convertToMeridiem = (\n  time: MaterialUiPickersDate,\n  meridiem: 'am' | 'pm',\n  ampm: boolean,\n  utils: IUtils<MaterialUiPickersDate>\n) => {\n  if (ampm) {\n    const currentMeridiem = utils.getHours(time) >= 12 ? 'pm' : 'am';\n    if (currentMeridiem !== meridiem) {\n      const hours = meridiem === 'am' ? utils.getHours(time) - 12 : utils.getHours(time) + 12;\n\n      return utils.setHours(time, hours);\n    }\n  }\n\n  return time;\n};\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport ClockPointer from './ClockPointer';\nimport ClockType, { ClockViewType } from '../../constants/ClockType';\nimport { getHours, getMinutes } from '../../_helpers/time-utils';\nimport { withStyles, createStyles, WithStyles, Theme } from '@material-ui/core';\n\nexport interface ClockProps extends WithStyles<typeof styles> {\n  type: ClockViewType;\n  value: number;\n  onChange: (value: number, isFinish?: boolean) => void;\n  ampm?: boolean;\n  minutesStep?: number;\n  children: React.ReactElement<any>[];\n}\n\nexport class Clock extends React.Component<ClockProps> {\n  public static propTypes: any = {\n    type: PropTypes.oneOf(\n      Object.keys(ClockType).map(key => ClockType[key as keyof typeof ClockType])\n    ).isRequired,\n    value: PropTypes.number.isRequired,\n    onChange: PropTypes.func.isRequired,\n    children: PropTypes.arrayOf(PropTypes.node).isRequired,\n    ampm: PropTypes.bool,\n    minutesStep: PropTypes.number,\n    innerRef: PropTypes.any,\n  };\n\n  public static defaultProps = {\n    ampm: false,\n    minutesStep: 1,\n  };\n\n  public isMoving = false;\n\n  public setTime(e: any, isFinish = false) {\n    let { offsetX, offsetY } = e;\n\n    if (typeof offsetX === 'undefined') {\n      const rect = e.target.getBoundingClientRect();\n\n      offsetX = e.changedTouches[0].clientX - rect.left;\n      offsetY = e.changedTouches[0].clientY - rect.top;\n    }\n\n    const value =\n      this.props.type === ClockType.SECONDS || this.props.type === ClockType.MINUTES\n        ? getMinutes(offsetX, offsetY, this.props.minutesStep)\n        : getHours(offsetX, offsetY, Boolean(this.props.ampm));\n\n    this.props.onChange(value, isFinish);\n  }\n\n  public handleTouchMove = (e: React.TouchEvent) => {\n    this.isMoving = true;\n    this.setTime(e);\n  };\n\n  public handleTouchEnd = (e: React.TouchEvent) => {\n    if (this.isMoving) {\n      this.setTime(e, true);\n      this.isMoving = false;\n    }\n  };\n\n  public handleMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    // MouseEvent.which is deprecated, but MouseEvent.buttons is not supported in Safari\n    const isButtonPressed =\n      typeof e.buttons === 'undefined' ? e.nativeEvent.which === 1 : e.buttons === 1;\n\n    if (isButtonPressed) {\n      this.setTime(e.nativeEvent, false);\n    }\n  };\n\n  public handleMouseUp = (e: React.MouseEvent) => {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n\n    this.setTime(e.nativeEvent, true);\n  };\n\n  public hasSelected = () => {\n    const { type, value } = this.props;\n\n    if (type === ClockType.HOURS) {\n      return true;\n    }\n\n    return value % 5 === 0;\n  };\n\n  public render() {\n    const { classes, value, children, type, ampm } = this.props;\n\n    const isPointerInner = !ampm && type === ClockType.HOURS && (value < 1 || value > 12);\n\n    return (\n      <div className={classes.container}>\n        <div className={classes.clock}>\n          <div\n            role=\"menu\"\n            tabIndex={-1}\n            className={classes.squareMask}\n            onTouchMove={this.handleTouchMove}\n            onTouchEnd={this.handleTouchEnd}\n            onMouseUp={this.handleMouseUp}\n            onMouseMove={this.handleMove}\n          />\n\n          <div className={classes.pin} />\n\n          <ClockPointer\n            type={type}\n            value={value}\n            isInner={isPointerInner}\n            hasSelected={this.hasSelected()}\n          />\n\n          {children}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport const styles: (theme: Theme) => any = (theme: Theme) =>\n  createStyles({\n    container: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-end',\n      margin: `${theme.spacing(2)}px 0 ${theme.spacing(1)}px`,\n    },\n    clock: {\n      backgroundColor: 'rgba(0,0,0,.07)',\n      borderRadius: '50%',\n      height: 260,\n      width: 260,\n      position: 'relative',\n      pointerEvents: 'none',\n    },\n    squareMask: {\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'auto',\n      outline: 'none',\n      touchActions: 'none',\n      userSelect: 'none',\n      '&:active': {\n        cursor: 'move',\n      },\n    },\n    pin: {\n      width: 6,\n      height: 6,\n      borderRadius: '50%',\n      backgroundColor: theme.palette.primary.main,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)',\n    },\n  });\n\nexport default withStyles(styles, {\n  name: 'MuiPickersClock',\n})(Clock as React.ComponentType<ClockProps>);\n"],"names":["ClockType","ClockPointer","state","toAnimateTransform","previousType","undefined","getAngleStyle","props","value","isInner","type","max","HOURS","angle","height","transform","classes","hasSelected","React.createElement","clsx","pointer","animateTransform","thumb","noPoint","React","getDerivedStateFromProps","nextProps","styles","theme","createStyles","width","backgroundColor","palette","primary","main","position","left","bottom","transformOrigin","transition","transitions","create","contrastText","borderRadius","top","border","boxSizing","withStyles","name","center","x","y","basePoint","cx","cy","rad2deg","rad","getAngleValue","step","offsetX","offsetY","atan","Math","atan2","deg","round","floor","delta","pow","distance","sqrt","getHours","ampm","getMinutes","angleStep","getMeridiem","date","utils","convertToMeridiem","time","meridiem","currentMeridiem","hours","setHours","Clock","isMoving","handleTouchMove","e","setTime","handleTouchEnd","handleMove","preventDefault","stopPropagation","isButtonPressed","buttons","nativeEvent","which","handleMouseUp","isFinish","rect","target","getBoundingClientRect","changedTouches","clientX","clientY","SECONDS","MINUTES","minutesStep","Boolean","onChange","children","isPointerInner","container","clock","squareMask","pin","propTypes","PropTypes","Object","keys","map","key","isRequired","innerRef","defaultProps","display","justifyContent","alignItems","margin","spacing","pointerEvents","outline","touchActions","userSelect","cursor"],"mappings":"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"}