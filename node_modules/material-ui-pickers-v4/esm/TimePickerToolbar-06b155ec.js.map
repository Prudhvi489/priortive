{"version":3,"file":"TimePickerToolbar-06b155ec.js","sources":["../../src/TimePicker/TimePickerToolbar.tsx"],"sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\nimport ClockType from '../constants/ClockType';\nimport ToolbarText from '../_shared/ToolbarText';\nimport ToolbarButton from '../_shared/ToolbarButton';\nimport PickerToolbar from '../_shared/PickerToolbar';\nimport { arrayIncludes } from '../_helpers/utils';\nimport { useUtils } from '../_shared/hooks/useUtils';\nimport { MaterialUiPickersDate } from '../typings/date';\nimport { ToolbarComponentProps } from '../Picker/Picker';\nimport { useTheme, makeStyles } from '@material-ui/core';\nimport { convertToMeridiem, getMeridiem } from '../_helpers/time-utils';\n\nexport const useStyles = makeStyles(\n  {\n    toolbarLandscape: {\n      flexWrap: 'wrap',\n    },\n    toolbarAmpmLeftPadding: {\n      paddingLeft: 50,\n    },\n    separator: {\n      margin: '0 4px 0 2px',\n      cursor: 'default',\n    },\n    hourMinuteLabel: {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      alignItems: 'flex-end',\n    },\n    hourMinuteLabelAmpmLandscape: {\n      marginTop: 'auto',\n    },\n    hourMinuteLabelReverse: {\n      flexDirection: 'row-reverse',\n    },\n    ampmSelection: {\n      marginLeft: 20,\n      marginRight: -20,\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    ampmLandscape: {\n      margin: '4px 0 auto',\n      flexDirection: 'row',\n      justifyContent: 'space-around',\n      flexBasis: '100%',\n    },\n    ampmSelectionWithSeconds: {\n      marginLeft: 15,\n      marginRight: 10,\n    },\n    ampmLabel: {\n      fontSize: 18,\n    },\n  },\n  { name: 'MuiPickersTimePickerToolbar' }\n);\n\nexport function useMeridiemMode(\n  date: MaterialUiPickersDate,\n  ampm: boolean | undefined,\n  onChange: (date: MaterialUiPickersDate, isFinished?: boolean | undefined) => void\n) {\n  const utils = useUtils();\n  const meridiemMode = getMeridiem(date, utils);\n\n  const handleMeridiemChange = React.useCallback(\n    (mode: 'am' | 'pm') => {\n      const timeWithMeridiem = convertToMeridiem(date, mode, Boolean(ampm), utils);\n      onChange(timeWithMeridiem, false);\n    },\n    [ampm, date, onChange, utils]\n  );\n\n  return { meridiemMode, handleMeridiemChange };\n}\n\nexport const TimePickerToolbar: React.FC<ToolbarComponentProps> = ({\n  date,\n  views = ['hours'],\n  ampm,\n  openView,\n  onChange,\n  isLandscape,\n  setOpenView,\n}) => {\n  const utils = useUtils();\n  const theme = useTheme();\n  const classes = useStyles();\n  const { meridiemMode, handleMeridiemChange } = useMeridiemMode(date, ampm, onChange);\n\n  const clockTypographyVariant = isLandscape ? 'h3' : 'h2';\n\n  return (\n    <PickerToolbar\n      isLandscape={isLandscape}\n      className={clsx({\n        [classes.toolbarLandscape]: isLandscape,\n        [classes.toolbarAmpmLeftPadding]: ampm && !isLandscape,\n      })}\n    >\n      <div\n        className={clsx(classes.hourMinuteLabel, {\n          [classes.hourMinuteLabelAmpmLandscape]: ampm && isLandscape,\n          [classes.hourMinuteLabelReverse]: theme.direction === 'rtl',\n        })}\n      >\n        {arrayIncludes(views, 'hours') && (\n          <ToolbarButton\n            variant={clockTypographyVariant}\n            onClick={() => setOpenView(ClockType.HOURS)}\n            selected={openView === ClockType.HOURS}\n            label={utils.getHourText(date, Boolean(ampm))}\n          />\n        )}\n\n        {arrayIncludes(views, ['hours', 'minutes']) && (\n          <ToolbarText\n            label=\":\"\n            variant={clockTypographyVariant}\n            selected={false}\n            className={classes.separator}\n          />\n        )}\n\n        {arrayIncludes(views, 'minutes') && (\n          <ToolbarButton\n            variant={clockTypographyVariant}\n            onClick={() => setOpenView(ClockType.MINUTES)}\n            selected={openView === ClockType.MINUTES}\n            label={utils.getMinuteText(date)}\n          />\n        )}\n\n        {arrayIncludes(views, ['minutes', 'seconds']) && (\n          <ToolbarText variant=\"h2\" label=\":\" selected={false} className={classes.separator} />\n        )}\n\n        {arrayIncludes(views, 'seconds') && (\n          <ToolbarButton\n            variant=\"h2\"\n            onClick={() => setOpenView(ClockType.SECONDS)}\n            selected={openView === ClockType.SECONDS}\n            label={utils.getSecondText(date)}\n          />\n        )}\n      </div>\n\n      {ampm && (\n        <div\n          className={clsx(classes.ampmSelection, {\n            [classes.ampmLandscape]: isLandscape,\n            [classes.ampmSelectionWithSeconds]: arrayIncludes(views, 'seconds'),\n          })}\n        >\n          <ToolbarButton\n            disableRipple\n            variant=\"subtitle1\"\n            selected={meridiemMode === 'am'}\n            typographyClassName={classes.ampmLabel}\n            label={utils.getMeridiemText('am')}\n            onClick={() => handleMeridiemChange('am')}\n          />\n\n          <ToolbarButton\n            disableRipple\n            variant=\"subtitle1\"\n            selected={meridiemMode === 'pm'}\n            typographyClassName={classes.ampmLabel}\n            label={utils.getMeridiemText('pm')}\n            onClick={() => handleMeridiemChange('pm')}\n          />\n        </div>\n      )}\n    </PickerToolbar>\n  );\n};\n\nexport default TimePickerToolbar;\n"],"names":["useStyles","makeStyles","toolbarLandscape","flexWrap","toolbarAmpmLeftPadding","paddingLeft","separator","margin","cursor","hourMinuteLabel","display","justifyContent","alignItems","hourMinuteLabelAmpmLandscape","marginTop","hourMinuteLabelReverse","flexDirection","ampmSelection","marginLeft","marginRight","ampmLandscape","flexBasis","ampmSelectionWithSeconds","ampmLabel","fontSize","name","useMeridiemMode","date","ampm","onChange","utils","useUtils","meridiemMode","getMeridiem","handleMeridiemChange","React","mode","timeWithMeridiem","convertToMeridiem","Boolean","TimePickerToolbar","views","openView","isLandscape","setOpenView","theme","useTheme","classes","clockTypographyVariant","React.createElement","clsx","direction","arrayIncludes","ClockType","HOURS","getHourText","MINUTES","getMinuteText","SECONDS","getSecondText","getMeridiemText"],"mappings":"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"}