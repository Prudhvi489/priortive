{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/bitbucket/priortive/src/components/pages/Hotels/Hotel_Booking_Failure.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Loadingmodal from '../../modals/Signupmodals/Loadingmodal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport axios from 'axios';\nimport { envdata } from '../../Envexports';\nimport MySnackbar from '../../modals/Signupmodals/Snackbar';\nimport { GuestsActions } from '../../../store/Hotelslices.jsx/GuestsSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Hotel_Booking_Failure = () => {\n  _s();\n  let book_obj = useSelector(state => state.hotelBookDetails.hotebookreqdata);\n  let transaction_id = useSelector(state => state.hotelBookDetails.transactionid);\n  const dispatch = useDispatch();\n  const [hotelbooked, setHotelbooked] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [booking_details, setBooking_details] = useState();\n  const [snackopen, setSnackopen] = useState(false);\n  const [snackmessage, setSnackmessage] = useState('');\n  const book_room_api = async data => {\n    dispatch(GuestsActions.Guest_count([{\n      NoOfAdults: 1,\n      NoOfChild: 0,\n      ChildAge: [1, 1]\n    }]));\n    setLoading(true);\n    let updatedbooking_obj = {\n      ...book_obj,\n      \"payment_status\": 0,\n      \"payment_id\": transaction_id\n    };\n    // setPrice_change(false);\n    // book_obj.payment_status=0\n    // book_obj.payment_id=transaction_id\n    const res = await axios.post(`${envdata.baseurl}/deDupeBookRoom`, updatedbooking_obj);\n    if (res.data.status) {\n      setLoading(false);\n      const booking_detail = await axios.post(`${envdata.baseurl}/getHotelBookingDetail`, {\n        BookingId: res.data.data.BookingId,\n        userId: localStorage.getItem(\"userid\"),\n        checkType: 0\n      });\n      if (booking_detail.data.status && booking_detail.data.data.Status === 1) {\n        setBooking_details(booking_detail.data.data);\n        setHotelbooked(true);\n        // console.log(booking_detail.data);\n      } else if (booking_detail.data.status && booking_detail.data.data.Status !== 1) {\n        setLoading(false);\n        setSnackopen(true);\n        setSnackmessage(\"booking cancelled\");\n        // alert(\"booking cancelled\");\n      } else {\n        setLoading(false);\n        setSnackopen(true);\n        setSnackmessage(booking_detail.data.data.message);\n        // alert(booking_detail.data.data.message);\n      }\n    } else {\n      var _res$data, _res$data$data;\n      setLoading(false);\n      setSnackopen(true);\n      setSnackmessage((_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$data = _res$data.data) === null || _res$data$data === void 0 ? void 0 : _res$data$data.message);\n      // alert(res.data?.data?.message);\n    }\n  };\n\n  // useEffect(()=>{\n  //   book_room_api()\n  // },[])\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading && /*#__PURE__*/_jsxDEV(Loadingmodal, {\n      open: loading,\n      loadingclose: () => setLoading(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(MySnackbar, {\n      open: snackopen,\n      close: () => setSnackopen(false),\n      data: snackmessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"FAILURE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(Hotel_Booking_Failure, \"acWaFwfI+1UxrvAc+Qa4n16kC88=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n_c = Hotel_Booking_Failure;\nexport default Hotel_Booking_Failure;\nvar _c;\n$RefreshReg$(_c, \"Hotel_Booking_Failure\");","map":{"version":3,"names":["React","useEffect","useState","Loadingmodal","useDispatch","useSelector","axios","envdata","MySnackbar","GuestsActions","jsxDEV","_jsxDEV","Fragment","_Fragment","Hotel_Booking_Failure","_s","book_obj","state","hotelBookDetails","hotebookreqdata","transaction_id","transactionid","dispatch","hotelbooked","setHotelbooked","loading","setLoading","booking_details","setBooking_details","snackopen","setSnackopen","snackmessage","setSnackmessage","book_room_api","data","Guest_count","NoOfAdults","NoOfChild","ChildAge","updatedbooking_obj","res","post","baseurl","status","booking_detail","BookingId","userId","localStorage","getItem","checkType","Status","message","_res$data","_res$data$data","children","open","loadingclose","fileName","_jsxFileName","lineNumber","columnNumber","close","_c","$RefreshReg$"],"sources":["/opt/lampp/htdocs/bitbucket/priortive/src/components/pages/Hotels/Hotel_Booking_Failure.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Loadingmodal from '../../modals/Signupmodals/Loadingmodal'\nimport { useDispatch, useSelector } from 'react-redux';\nimport axios from 'axios';\nimport { envdata } from '../../Envexports';\nimport MySnackbar from '../../modals/Signupmodals/Snackbar';\nimport { GuestsActions } from '../../../store/Hotelslices.jsx/GuestsSlice';\nconst Hotel_Booking_Failure = () => {\n  let book_obj=useSelector((state)=>state.hotelBookDetails.hotebookreqdata);\n  let transaction_id=useSelector((state)=>state.hotelBookDetails.transactionid);\n  const dispatch=useDispatch()\n  const [hotelbooked,setHotelbooked]=useState(false)\n  const [loading,setLoading] = useState(false);\n  const [booking_details,setBooking_details] = useState()\n  const [snackopen,setSnackopen]=useState(false);\n  const [snackmessage,setSnackmessage]=useState('');\n  const book_room_api = async (data) => {\n    dispatch(GuestsActions.Guest_count([{ NoOfAdults: 1, NoOfChild: 0, ChildAge: [1, 1] }]))\n    setLoading(true);\n    let updatedbooking_obj={...book_obj,\"payment_status\":0,\"payment_id\":transaction_id}\n    // setPrice_change(false);\n    // book_obj.payment_status=0\n    // book_obj.payment_id=transaction_id\n    const res = await axios.post(`${envdata.baseurl}/deDupeBookRoom`, updatedbooking_obj);\n    if (res.data.status) {\n      setLoading(false);\n      const booking_detail = await axios.post(\n        `${envdata.baseurl}/getHotelBookingDetail`,\n        {\n          BookingId: res.data.data.BookingId,\n          userId: localStorage.getItem(\"userid\"),\n          checkType: 0,\n        }\n      );\n      if (booking_detail.data.status && booking_detail.data.data.Status === 1) {\n        setBooking_details(booking_detail.data.data);\n        setHotelbooked(true);\n        // console.log(booking_detail.data);\n      } else if (\n        booking_detail.data.status &&\n        booking_detail.data.data.Status !== 1\n      ) {\n        setLoading(false);\n        setSnackopen(true);\n        setSnackmessage(\"booking cancelled\");\n        // alert(\"booking cancelled\");\n      } else {\n        setLoading(false);\n        setSnackopen(true);\n        setSnackmessage(booking_detail.data.data.message);\n        // alert(booking_detail.data.data.message);\n      }\n    } else {\n      setLoading(false);\n      setSnackopen(true);\n      setSnackmessage(res.data?.data?.message);\n      // alert(res.data?.data?.message);\n    }\n  }\n  \n  // useEffect(()=>{\n  //   book_room_api()\n  // },[])\n  return (\n    <>\n        {loading && <Loadingmodal open={loading} loadingclose={() => setLoading(false)} />}\n        <MySnackbar open={snackopen} close={()=>setSnackopen(false)} data={snackmessage}/>\n        <div>FAILURE</div>\n    </>\n  )\n}\n\nexport default Hotel_Booking_Failure"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}