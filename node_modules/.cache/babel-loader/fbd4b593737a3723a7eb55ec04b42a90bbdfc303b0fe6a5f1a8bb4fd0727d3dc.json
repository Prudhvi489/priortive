{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/bitbucket/priortive/src/components/pages/Hotels/Hotel_Booking_success.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Loadingmodal from '../../modals/Signupmodals/Loadingmodal';\nimport Hotelconfirmation from '../../modals/Hotelmodals/Hotelconfirmation';\nimport { useSelector } from 'react-redux';\nimport axios from 'axios';\nimport { envdata } from '../../Envexports';\nimport MySnackbar from '../../modals/Signupmodals/Snackbar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Hotel_Booking_success = () => {\n  _s();\n  let book_obj = useSelector(state => state.hotelBookDetails.hotebookreqdata);\n  console.log(book_obj, \"bookobject\");\n  let transaction_id = useSelector(state => state.hotelBookDetails.transactionid);\n  const [hotelbooked, setHotelbooked] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [booking_details, setBooking_details] = useState();\n  const [snackopen, setSnackopen] = useState(false);\n  const [snackmessage, setSnackmessage] = useState('');\n  // Book api funtion\n  const book_room_api = async data => {\n    setLoading(true);\n    // setPrice_change(false);\n    let updated_bookobj = {\n      ...book_obj,\n      payment_status: 1,\n      payment_id: transaction_id\n    };\n    // book_obj.payment_status=1\n    // book_obj.payment_id=transaction_id\n    const res = await axios.post(`${envdata.baseurl}/deDupeBookRoom`, updated_bookobj);\n    console.log(res.data, \"boking response\");\n    if (res.data.status) {\n      setLoading(false);\n      const booking_detail = await axios.post(`${envdata.baseurl}/getHotelBookingDetail`, {\n        type: updated_bookobj === null || updated_bookobj === void 0 ? void 0 : updated_bookobj.searchType,\n        BookingId: (updated_bookobj === null || updated_bookobj === void 0 ? void 0 : updated_bookobj.searchType) === 1 ? res.data.data.BookingId : res.data.data.booking_id,\n        userId: localStorage.getItem(\"userid\"),\n        checkType: 0\n      });\n      if (booking_detail.data.status\n      // && booking_detail.data.data.Status === 1\n      ) {\n        setBooking_details(booking_detail.data.data);\n        setHotelbooked(true);\n        // console.log(booking_detail.data);\n      } else if (booking_detail.data.status\n      // &&\n      // booking_detail.data.data.Status !== 1\n      ) {\n        setLoading(false);\n        setSnackopen(true);\n        setSnackmessage(\"booking cancelled\");\n        // alert(\"booking cancelled\");\n      } else {\n        var _booking_detail$data;\n        setLoading(false);\n        setSnackopen(true);\n        setSnackmessage(booking_detail === null || booking_detail === void 0 ? void 0 : (_booking_detail$data = booking_detail.data) === null || _booking_detail$data === void 0 ? void 0 : _booking_detail$data.message);\n        // alert(booking_detail.data.data.message);\n      }\n    } else {\n      var _res$data, _res$data$data;\n      setLoading(false);\n      setSnackopen(true);\n      setSnackmessage((_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$data = _res$data.data) === null || _res$data$data === void 0 ? void 0 : _res$data$data.message);\n      // alert(res.data?.data?.message);\n    }\n  };\n\n  useEffect(() => {\n    book_room_api();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading && /*#__PURE__*/_jsxDEV(Loadingmodal, {\n      open: loading,\n      loadingclose: () => setLoading(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(MySnackbar, {\n      open: snackopen,\n      close: () => setSnackopen(false),\n      message: snackmessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), hotelbooked && /*#__PURE__*/_jsxDEV(Hotelconfirmation, {\n      open: hotelbooked,\n      close: () => setHotelbooked(false),\n      data: booking_details\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true);\n};\n_s(Hotel_Booking_success, \"xWVf/SNa4Fl77m57vc5e7Eazg24=\", false, function () {\n  return [useSelector, useSelector];\n});\n_c = Hotel_Booking_success;\nexport default Hotel_Booking_success;\nvar _c;\n$RefreshReg$(_c, \"Hotel_Booking_success\");","map":{"version":3,"names":["React","useEffect","useState","Loadingmodal","Hotelconfirmation","useSelector","axios","envdata","MySnackbar","jsxDEV","_jsxDEV","Fragment","_Fragment","Hotel_Booking_success","_s","book_obj","state","hotelBookDetails","hotebookreqdata","console","log","transaction_id","transactionid","hotelbooked","setHotelbooked","loading","setLoading","booking_details","setBooking_details","snackopen","setSnackopen","snackmessage","setSnackmessage","book_room_api","data","updated_bookobj","payment_status","payment_id","res","post","baseurl","status","booking_detail","type","searchType","BookingId","booking_id","userId","localStorage","getItem","checkType","_booking_detail$data","message","_res$data","_res$data$data","children","open","loadingclose","fileName","_jsxFileName","lineNumber","columnNumber","close","_c","$RefreshReg$"],"sources":["/opt/lampp/htdocs/bitbucket/priortive/src/components/pages/Hotels/Hotel_Booking_success.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Loadingmodal from '../../modals/Signupmodals/Loadingmodal'\nimport Hotelconfirmation from '../../modals/Hotelmodals/Hotelconfirmation'\nimport { useSelector } from 'react-redux'\nimport axios from 'axios'\nimport { envdata } from '../../Envexports'\nimport MySnackbar from '../../modals/Signupmodals/Snackbar'\nconst Hotel_Booking_success = () => {\n  let book_obj=useSelector((state)=>state.hotelBookDetails.hotebookreqdata)\n  console.log(book_obj,\"bookobject\")\n  let transaction_id=useSelector((state)=>state.hotelBookDetails.transactionid)\n    const [hotelbooked,setHotelbooked] = useState(false)\n    const [loading,setLoading] = useState(false)\n    const [booking_details,setBooking_details] = useState()\n    const [snackopen,setSnackopen]=useState(false);\n    const [snackmessage,setSnackmessage]=useState('');\n     // Book api funtion\n  const book_room_api = async (data) => {\n    setLoading(true);\n    // setPrice_change(false);\n    let updated_bookobj={...book_obj,payment_status:1,payment_id:transaction_id}\n    // book_obj.payment_status=1\n    // book_obj.payment_id=transaction_id\n    const res = await axios.post(`${envdata.baseurl}/deDupeBookRoom`, updated_bookobj);\n    console.log(res.data,\"boking response\")\n    if (res.data.status) {\n      setLoading(false);\n      const booking_detail = await axios.post(\n        `${envdata.baseurl}/getHotelBookingDetail`,\n        {\n          type:updated_bookobj?.searchType,\n          BookingId:updated_bookobj?.searchType===1?res.data.data.BookingId:res.data.data.booking_id,\n          userId: localStorage.getItem(\"userid\"),\n          checkType: 0,\n        }\n      );\n      if (booking_detail.data.status \n        // && booking_detail.data.data.Status === 1\n        ) {\n        setBooking_details(booking_detail.data.data);\n        setHotelbooked(true);\n        // console.log(booking_detail.data);\n      } \n      else if (\n        booking_detail.data.status \n        // &&\n        // booking_detail.data.data.Status !== 1\n      ) {\n        setLoading(false);\n        setSnackopen(true);\n        setSnackmessage(\"booking cancelled\");\n        // alert(\"booking cancelled\");\n      } else {\n        setLoading(false);\n        setSnackopen(true);\n        setSnackmessage(booking_detail?.data?.message);\n        // alert(booking_detail.data.data.message);\n      }\n    } else {\n      setLoading(false);\n      setSnackopen(true);\n      setSnackmessage(res.data?.data?.message);\n      // alert(res.data?.data?.message);\n    }\n  }\n  useEffect(()=>{\n    book_room_api()\n  },[])\n  return (\n    <>\n        {loading && <Loadingmodal open={loading} loadingclose={() => setLoading(false)} />}\n        <MySnackbar open={snackopen} close={()=>setSnackopen(false)} message={snackmessage} />\n        \n        {hotelbooked && <Hotelconfirmation\n            open={hotelbooked}\n            close={() => setHotelbooked(false)}\n            data={booking_details}\n        />}\n    </>\n  )\n}\n\nexport default Hotel_Booking_success"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}